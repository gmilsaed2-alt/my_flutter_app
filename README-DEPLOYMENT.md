
# إرشادات تشغيل التطبيق في بيئة خارجية (مثل جيت هاب)

أهلاً بك! هذا الدليل سيساعدك على تشغيل نسخة من هذا التطبيق على جهازك المحلي أو أي خدمة استضافة أخرى. اتبع الخطوات التالية بالترتيب.

## المتطلبات الأساسية

- معرفة بسيطة بواجهة الأوامر (Terminal/Command Prompt).
- حساب Google لإنشاء مشروع Firebase.
- تثبيت [Node.js](https://nodejs.org/) على جهازك.

---

## الخطوة 1: نسخ ملفات المشروع

1.  قم بإنشاء مجلد جديد على جهازك باسم `alkhair-cafe-app`.
2.  انسخ جميع ملفات الأكواد التي تم تزويدك بها إلى داخل هذا المجلد، مع الحفاظ على نفس بنية المجلدات (e.g., `src/app`, `src/components`, `src/lib`, etc.).
3.  **مهم جداً:** قم بإنشاء مجلد باسم `public` في الجذر الرئيسي للمشروع، وأضف إليه الملفات التالية (ستحتاج إلى الحصول عليها أو إنشائها بنفسك):
    - `logo.svg` (شعار الكافتيريا)
    - `owner-photo.jpg` (صورتك الشخصية التي تظهر في المساعد الذكي)
    - `alkhair-banner.jpg` (صورة البانر التي تظهر في قسم "تواصل معنا")
    - `manifest.json` (ملف لإعدادات تطبيق الويب التقدمي PWA)

---

## الخطوة 2: تثبيت الحزم (Dependencies)

1.  افتح الطرفية (Terminal) في مجلد المشروع `alkhair-cafe-app`.
2.  قم بتشغيل الأمر التالي لتثبيت جميع المكتبات التي يحتاجها المشروع:

    ```bash
    npm install
    ```

---

## الخطوة 3: إعداد مشروع Firebase جديد

الكود الحالي مرتبط بمشروع Firebase المؤقت. ليعمل التطبيق بشكل صحيح، يجب أن تربطه بمشروع Firebase خاص بك.

1.  اذهب إلى [وحدة تحكم Firebase](https://console.firebase.google.com/).
2.  انقر على "Add project" لإنشاء مشروع جديد. اتبع الخطوات وأعطه اسماً (مثلاً: `my-alkhair-app`).
3.  داخل مشروعك الجديد، انتقل إلى قسم **Build > Firestore Database**.
4.  انقر على "Create database" وابدأ في وضع الإنتاج "Production mode". اختر الموقع الجغرافي الأقرب إليك.
5.  بعد إنشاء قاعدة البيانات، انتقل إلى تبويب **Rules**. انسخ **كامل محتوى** ملف `firestore.rules` الذي تم تزويدك به والصقه هنا، ثم انقر على "Publish".
6.  انتقل إلى قسم **Project Settings** (أيقونة الترس بجانب "Project Overview").
7.  في تبويب **General**، ابحث عن قسم "Your apps". انقر على أيقونة الويب (`</>`) لإنشاء تطبيق ويب جديد.
8.  أعطِ التطبيق اسماً (e.g., `alkhair-web-app`) ثم انقر على "Register app".
9.  ستظهر لك **Firebase SDK snippet**. اختر خيار `npm`. ستجد كائن `firebaseConfig` بهذا الشكل:

    ```javascript
    const firebaseConfig = {
      apiKey: "...",
      authDomain: "...",
      projectId: "...",
      storageBucket: "...",
      messagingSenderId: "...",
      appId: "..."
    };
    ```

    **انسخ هذا الكائن بالكامل.**

---

## الخطوة 4: تحديث إعدادات Firebase في الكود

1.  افتح ملف `src/firebase/config.ts` في مشروعك.
2.  استبدل محتواه بالكامل بكائن `firebaseConfig` الذي نسخته من مشروعك الجديد.

---

## الخطوة 5: إضافة البيانات إلى Firestore

قاعدة بياناتك الآن فارغة. ستحتاج إلى إضافة المنتجات لكي تظهر في التطبيق.

1.  في وحدة تحكم Firebase، اذهب إلى **Build > Firestore Database**.
2.  ابدأ بإنشاء Collection جديدة باسم `products`.
3.  لكل منتج، انقر على "Add document". يمكنك ترك "Document ID" فارغًا ليتم إنشاؤه تلقائيًا أو استخدام ID مخصص.
4.  أضف الحقول (fields) الخاصة بكل منتج كما هي معرفة في ملف `src/lib/data.ts`. على سبيل المثال:
    - `name` (string): "عصير أفوكادو"
    - `description` (string): "أفوكادو طازج ممزوج بالحليب والعسل."
    - `category` (string): "juices"
    - `imageId` (string): "avocado-juice"
    - `featured` (boolean): `true`
    - `sizes` (array): أضف عناصر من نوع `map` لكل حجم، وكل `map` يحتوي على `name` (string) و `price` (number).

    كرر هذه العملية لبعض المنتجات لتبدأ بها.

---

## الخطوة 6: تشغيل التطبيق محلياً

الآن، أنت جاهز لتشغيل التطبيق على جهازك.

1.  في الطرفية (Terminal) داخل مجلد المشروع، قم بتشغيل الأمر التالي:

    ```bash
    npm run dev
    ```

2.  افتح المتصفح واذهب إلى العنوان `http://localhost:9002` (أو أي منفذ آخر يظهر في الطرفية).

بهذه الخطوات، يجب أن يعمل التطبيق بنجاح على جهازك متصلاً بمشروع Firebase الخاص بك.
